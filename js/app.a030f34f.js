(function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/reading-order/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0892":function(e,t,n){"use strict";var r=n("0fba"),o=n.n(r);o.a},"0fb9":function(e,t,n){"use strict";var r=n("251b"),o=n.n(r);o.a},"0fba":function(e,t,n){},"21bb":function(e,t,n){"use strict";var r=n("2dad"),o=n.n(r);o.a},"251b":function(e,t,n){},"2ba2":function(e,t,n){},"2dad":function(e,t,n){},"4d8e":function(e,t,n){"use strict";var r=n("e75b"),o=n.n(r);o.a},"54d4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("e37d"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c=(n("5c0b"),n("2877")),s={},l=Object(c["a"])(s,a,i,!1,null,null,null),u=l.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home",on:{"!drop":function(t){return t.stopPropagation(),t.preventDefault(),e.loadLocalFile(t)},"!dragenter":function(t){return e.captureDrop(t)},"!dragover":function(t){return e.captureDrop(t)}}},[n("Legend",{attrs:{"connection-types":Object.values(e.connectionTypes),layers:e.layers,appearances:e.appearances,"sorted-books":e.sortedBooks},on:{sort:e.sort}}),n("CircleDiagram",{attrs:{entries:e.entries,"connection-types":e.connectionTypes,labels:e.entries===e.books?e.labels:[]}})],1)},h=[],f=(n("4160"),n("b64b"),n("d3b7"),n("ac1f"),n("466d"),n("2ca0"),n("159b"),n("ddb0"),n("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SvgPanZoom",{staticClass:"circle-diagram",attrs:{"dbl-click-zoom-enabled":!1,"custom-events-handler":e.panEventHandler}},[r("svg",{staticClass:"circle-diagram-svg",attrs:{viewBox:"0 0 1000 1000"}},[r("defs",[e._l(e.connectionTypes,(function(e,t){return r("marker",{key:t,attrs:{id:"triangle-"+t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"4",markerHeight:"4",orient:"auto"}},[r("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z",fill:e.color}})])})),r("marker",{attrs:{id:"triangle-mask",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"4",markerHeight:"4",orient:"auto"}},[r("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z",fill:"#FFFFFF"}})]),r("linearGradient",{attrs:{id:"shine-x",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"0%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"1"},attrs:{offset:"50%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"100%"}})],1),r("linearGradient",{attrs:{id:"shine-y",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"0%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"1"},attrs:{offset:"50%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"100%"}})],1)],2),r("transition-group",{staticClass:"svg-pan-zoom_viewport",attrs:{name:"fade",tag:"g"}},[r("image",{key:"cosmere-logo",attrs:{x:"300",y:"300",width:"400",height:"400",opacity:"0.05","xlink:href":n("ec67")}}),e._l(e.entries,(function(t){return r("CircleEntry",{key:"entry-"+t.id,attrs:{entry:t,angle:t.angle,radius:300,mute:null!==e.selectedEntry&&t.id!==e.selectedEntry&&!e.incomingConnections[t.id].includes(e.selectedEntry)&&!(t.connections||[]).some((function(t){return e.connectionTypes[t.type].active&&t.target===e.selectedEntry}))},on:{select:function(n){return e.select(t.id,n)},unselect:function(n){return e.unselect(t.id)}}},[e._v(" "+e._s(t.title)+" ")])})),e._l(e.connections,(function(t){return r("Arc",{key:"arc-"+t.startId+"."+t.endId,attrs:{connection:t,radius:290,mute:null!==e.selectedEntry&&e.selectedEntry!==t.startId&&e.selectedEntry!==t.endId,highlight:null!==e.selectedEntry&&(e.selectedEntry===t.startId||e.selectedEntry===t.endId)}})})),e._l(e.labels,(function(t,n){return r("CircleLabel",{key:"label-"+n,attrs:{label:t,"hover-depth":e.labelHoverDepth},on:{"begin-hover":e.beginLabelHover,"end-hover":e.endLabelHover,"toggle-hover-lock":e.toggleLabelHoverLock,"end-hover-lock":e.endLabelHoverLock}})}))],2)],1)])}),v=[],g=(n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("5db7"),n("d81d"),n("73d9"),n("07ac"),n("284c")),y=n("c8b5"),b=n.n(y),m=n("2c0f"),O=n.n(m),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{class:["circle-entry",{"circle-entry-inactive":!e.entry.active,"circle-entry-muted":e.mute}],attrs:{transform:"translate(500, 500) rotate("+e.renderedAngle+")"}},[n("Tooltip",{attrs:{text:e.tooltipText,options:{autoHide:!1,offset:10,placement:e.tooltipPosition,hideOnTargetClick:!1},"follow-mouse":!0,disabled:e.mute}},[n("text",{directives:[{name:"closable",rawName:"v-closable",value:{handler:e.handleOutsideClick,exclude:e.shouldNotClose},expression:"{handler: handleOutsideClick, exclude: shouldNotClose}"}],ref:"text",style:e.styles,attrs:{"dominant-baseline":"central","text-anchor":e.anchor,transform:"translate(0, -"+(e.radius+e.renderedPadding)+") rotate("+90*e.sign+")"},on:{mouseover:e.select,mouseout:e.unselect,click:e.toggle}},[e._t("default")],2)]),e.textWidth>=0?n("AppearanceGroup",{attrs:{appearances:e.entry.appearances.filter((function(e){return e.ref.active})),rotation:-e.renderedAngle,transform:"translate(0, -"+(e.radius+e.renderedPadding+e.textWidth+15)+")"}}):e._e()],1)},w=[],x=(n("a15b"),n("13d5"),n("a9e3"),n("e439"),n("dbb4"),n("9911"),n("2fa7")),P=n("2e20");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,C,S={name:"Tooltip",abstract:!0,props:{text:String,options:Object,popperOptions:Object,followMouse:{type:Boolean,default:function(){return!1}},disabled:Boolean},render:function(){try{return this.$slots.default[0].data.directives=this.$slots.default[0].data.directives||[],this.disabled||this.$slots.default[0].data.directives.push({name:"tooltip",value:E({content:this.text},this.options,{popperOptions:E({},this.popperOptions||{},{onCreate:this.onPopperCreate})})}),this.$slots.default[0]}catch(e){throw new Error("Tooltip can only render one, and exactly one child component.")}},mounted:function(){var e=this;this.$nextTick((function(){e.followMouse&&e.$slots.default[0].elm.addEventListener("mouseover",e.onMouseOver)}))},updated:function(){var e=this;this.setupPopper(),this.$nextTick((function(){var t=e.$slots.default[0].elm;e.followMouse?t.addEventListener("mouseover",e.onMouseOver):t.removeEventListener("mouseover",e.onMouseOver)}))},methods:{onPopperCreate:function(e){var t=e.instance;this.popper=t,void 0===this.referenceElement&&(this.referenceElement=t.reference),this.setupPopper()},setupPopper:function(){var e=this;void 0!==this.popper&&(this.followMouse?this.popper.reference={getBoundingClientRect:function(){return{top:e.mousePos.pageY,right:e.mousePos.pageX,bottom:e.mousePos.pageY,left:e.mousePos.pageX,width:0,height:0}},clientWidth:0,clientHeight:0}:this.popper.reference=this.referenceElement,this.popper.update())},onMouseOver:function(e){var t=e.pageX,n=e.pageY;this.mousePos={pageX:t,pageY:n},this.popper&&this.popper.scheduleUpdate()}}},$=S,D=(n("0fb9"),Object(c["a"])($,_,C,!1,null,null,null)),T=D.exports;function L(e,t){return(e%t+t)%t}function A(e){return L(e,360)}function H(e,t){return L(t-e+180,360)-180}function M(e){return Math.floor(e/90)}function N(e,t){if(!(e instanceof r["a"])){var n=e.__vue__;return n?N(n,t):!!e.parentNode&&N(e.parentNode,t)}return!!t(e)||void 0!==e.$parent&&N(e.$parent,t)}var q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"appearance-group",attrs:{tag:"g",name:"fade-fast"}},e._l(e.appearances,(function(t,r){return n("Appearance",{key:t.type+"-"+t.id,attrs:{appearance:t,rotation:e.rotation,position:25*r}})})),1)},I=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.showSpoilers?e.appearance.description:"Spoilers ahead! Enable spoilers in the options to the right to see them!",autoHide:!1,hideOnTargetClick:!1,trigger:"click hover"},expression:"{\n    content: showSpoilers\n      ? appearance.description\n      : 'Spoilers ahead! Enable spoilers in the options to the right to see them!',\n    autoHide: false,\n    hideOnTargetClick: false,\n    trigger: 'click hover',\n  }"}],class:["appearance","appearance-"+e.appearance.type],style:{"--appearance-color":e.appearance.ref.color},attrs:{transform:"translate(0, "+-e.position+") rotate("+e.rotation+")"}},[n("circle",{attrs:{r:"10"}}),n("text",{attrs:{"dominant-baseline":"central","text-anchor":"middle","font-size":"0.8rem"}},[e._v(" "+e._s(e.appearance.ref.initial)+" ")])])},R=[],W=n("2f62"),X={name:"Appearance",props:{appearance:Object,position:Number,rotation:Number},computed:Object(W["b"])(["showSpoilers"])},Y=X,z=(n("5bad"),Object(c["a"])(Y,B,R,!1,null,null,null)),F=z.exports,G={name:"AppearanceGroup",components:{Appearance:F},props:{appearances:Array,rotation:Number}},U=G,J=(n("d2b6"),Object(c["a"])(U,q,I,!1,null,null,null)),Z=J.exports;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={name:"CircleEntry",components:{AppearanceGroup:Z,Tooltip:T},props:{entry:Object,angle:Number,radius:{type:Number,default:200},mute:Boolean},data:function(){return{renderedAngle:A(this.angle),renderedPadding:this.entry.padding||0,textWidth:-1,clicked:!1}},computed:{sign:function(){return this.renderedAngle>180?1:-1},anchor:function(){return this.renderedAngle>180?"end":"start"},styles:function(){var e=this.entry.categories.filter((function(e){return e.layer.active})).reduce((function(e,t){return K({},e,{},t)}),{});return{fill:e.color,fontStyle:e.style}},tooltipPosition:function(){var e=M(A(this.renderedAngle+45)),t=["top","right","bottom","left"];return t[e]},tooltipText:function(){return[this.entry.title2,"<strong>Series:</strong> ".concat(this.entry.series||"None"),"<strong>World:</strong> ".concat(this.entry.world||"None"),"<strong>System:</strong> ".concat(this.entry.system||"None"),void 0!==this.entry.au||void 0!==this.entry.link?"":void 0,this.entry.au,this.entry.link].filter((function(e){return void 0!==e})).join("<br>")}},watch:{angle:function(e){P["a"].to(this.$data,1,{renderedAngle:A(e),ease:"Power1.easeInOut"})},"entry.padding":function(e){P["a"].to(this.$data,1,{renderedPadding:e||0,ease:"Power1.easeInOut"})}},mounted:function(){this.textWidth=this.$refs.text.getComputedTextLength()},methods:{toggle:function(){this.entry.active&&(this.clicked=!this.clicked,this.clicked?this.$emit("select",!0):this.$emit("unselect"))},select:function(){this.entry.active&&(this.clicked||this.$emit("select",!1))},unselect:function(){this.clicked||this.$emit("unselect")},handleOutsideClick:function(){this.clicked&&(this.clicked=!1,this.unselect())},shouldNotClose:function(e){return!!this.clicked&&N(e,(function(e){return!1===(e.$props||{}).mute}))}}},ee=Q,te=(n("8a2b"),Object(c["a"])(ee,k,w,!1,null,null,null)),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{class:["arc",{"arc-nodes-inactive":!e.connection.nodesActive,"arc-inactive":!e.connection.type.active,"arc-muted":e.mute}]},[n("Tooltip",{attrs:{text:e.showSpoilers?e.connection.description:"Spoilers ahead! Enable spoilers in the options to the right to see them!",options:{autoHide:!1,offset:5,hideOnTargetClick:!1,toggle:"click hover"},"follow-mouse":!0,disabled:e.mute}},[n("path",{staticClass:"arc-background",style:e.bgStyles,attrs:{d:e.path,fill:"none"},on:{mouseover:e.beginLocalHighlight,mouseout:e.endLocalHighlight}})]),n("path",{staticClass:"arc-foreground",style:e.styles,attrs:{d:e.path,fill:"none","marker-end":"url(#triangle-"+e.connection.type.id+")"}}),n("mask",{attrs:{id:"arc-path-"+e.renderedStart+"."+e.renderedEnd}},[n("path",{staticClass:"arc-foreground",attrs:{d:e.path,fill:"none",stroke:"white","stroke-width":e.connection.type.width,"marker-end":"url(#triangle-mask)"}})]),e.highlight||e.localHighlight?n("g",{staticClass:"arc-shine-container",attrs:{mask:"url(#arc-path-"+e.renderedStart+"."+e.renderedEnd+")"}},[n("rect",{class:["arc-shine","arc-shine-"+e.shineAxis],style:{"--shine-distance":e.shineDistance+"px"},attrs:{x:e.shineRectangle.x,y:e.shineRectangle.y,width:e.shineRectangle.width,height:e.shineRectangle.height,fill:"url(#shine-"+e.shineAxis+")"}})]):e._e()],1)},oe=[];n("2af1");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){return e-Math.sign(e)}var se={name:"Arc",components:{Tooltip:T},props:{connection:Object,radius:{type:Number,default:200},mute:Boolean,highlight:Boolean},data:function(){return{renderedStart:A(this.connection.start),renderedEnd:A(this.connection.end),localHighlight:!1,mousePos:{pageX:0,pageY:0}}},computed:ie({},Object(W["b"])(["showSpoilers"]),{styles:function(){return{stroke:this.connection.type.color,strokeWidth:this.connection.type.width,strokeDasharray:this.connection.type.dash}},bgStyles:function(){return{stroke:this.connection.type.highlightColor,strokeWidth:10}},startPos:function(){var e=1.5*ce(this.signedSeparation),t=Math.PI*(this.renderedStart-90-e)/180;return{x:Math.cos(t)*this.radius+500,y:Math.sin(t)*this.radius+500}},endPos:function(){var e=1.5*ce(this.signedSeparation),t=Math.PI*(this.renderedEnd-90+e)/180;return{x:Math.cos(t)*this.radius+500,y:Math.sin(t)*this.radius+500}},signedSeparation:function(){return H(this.renderedStart,this.renderedEnd)/180},separation:function(){return Math.pow(Math.abs(this.signedSeparation),.7)},control1Pos:function(){return{x:(1-this.separation)*this.startPos.x+500*this.separation,y:(1-this.separation)*this.startPos.y+500*this.separation}},control2Pos:function(){return{x:(1-this.separation)*this.endPos.x+500*this.separation,y:(1-this.separation)*this.endPos.y+500*this.separation}},path:function(){return"\n      M ".concat(this.startPos.x," ").concat(this.startPos.y,"\n      C ").concat(this.control1Pos.x," ").concat(this.control1Pos.y,"\n        ").concat(this.control2Pos.x," ").concat(this.control2Pos.y,"\n        ").concat(this.endPos.x," ").concat(this.endPos.y,"\n      ")},slope:function(){return(this.endPos.y-this.startPos.y)/(this.endPos.x-this.startPos.x)},shineDistance:function(){var e=this.endPos[this.shineAxis]-this.startPos[this.shineAxis];return e+20*Math.sign(e)},shineAxis:function(){return Math.abs(this.slope)>1?"y":"x"},shineRectangle:function(){if("x"===this.shineAxis){var e=2*Math.abs(this.endPos.x-this.startPos.x);return{x:this.startPos.x-10,y:(this.startPos.y+this.endPos.y)/2-e/2,width:20,height:e}}var t=2*Math.abs(this.endPos.y-this.startPos.y);return{x:(this.startPos.x+this.endPos.x)/2-t/2,y:this.startPos.y-10,width:t,height:20}}}),watch:{"connection.start":function(e){P["a"].to(this.$data,1,{renderedStart:A(e),ease:"Power1.easeInOut"})},"connection.end":function(e){P["a"].to(this.$data,1,{renderedEnd:A(e),ease:"Power1.easeInOut"})}},methods:{beginLocalHighlight:function(){this.localHighlight=!0},endLocalHighlight:function(){this.localHighlight=!1}}},le=se,ue=(n("fcc7"),Object(c["a"])(le,re,oe,!1,null,null,null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{directives:[{name:"closable",rawName:"v-closable",value:{handler:e.handleOutsideClick,exclude:e.shouldNotHide},expression:"{ handler: handleOutsideClick, exclude: shouldNotHide }"}],class:["circle-label",{"circle-label-top":1===e.label.depth,"circle-label-sub":e.label.depth>1,"circle-label-hover":null!==e.hoverDepth&&e.hoverDepth<=e.label.depth}],on:{mouseenter:function(t){return e.$emit("begin-hover",e.label.depth)},mouseleave:function(t){return e.$emit("end-hover")},click:function(t){return e.$emit("toggle-hover-lock",e.label.depth)}}},[n("defs",e._l(e.textPaths,(function(t,r){return n("path",{key:r,attrs:{id:"circle-label-"+e.radius+"-"+e.renderedStart+"-"+e.renderedEnd+"-line"+r,d:t}})})),0),n("path",{attrs:{d:e.bgPath,fill:"transparent"}}),n("path",{attrs:{d:e.path,fill:"none",stroke:e.label.color,"stroke-width":"7"}}),n("text",{attrs:{fill:e.label.color,"text-anchor":"middle","dominant-baseline":e.flip?"hanging":"baseline"}},e._l(e.lines,(function(t,r){return n("textPath",{key:r,attrs:{"xlink:href":"#circle-label-"+e.radius+"-"+e.renderedStart+"-"+e.renderedEnd+"-line"+r,"font-size":"1.5em",startOffset:"50%"}},[e._v(" "+e._s(t)+" ")])})),0)])},he=[];n("1276");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){var n=Math.PI*(e-90)/180;return{x:Math.cos(n)*t+500,y:Math.sin(n)*t+500}}var ye={name:"CircleLabel",props:{label:Object,hoverDepth:Number},data:function(){return{renderedStart:A(this.label.start),renderedEnd:A(this.label.end),localHighlight:!1,mousePos:{pageX:0,pageY:0}}},computed:ve({},Object(W["b"])(["showSpoilers"]),{lines:function(){return this.label.text.split("<br>")},radius:function(){return this.label.depth>1?580:680},bgPath:function(){var e=H(this.renderedEnd,this.renderedStart),t=this.radius+24*this.lines.length+16,n=ge(this.renderedStart-3,this.radius-3),r=n.x,o=n.y,a=ge(this.renderedEnd+3,this.radius-3),i=a.x,c=a.y,s=ge(this.renderedEnd+3,t),l=s.x,u=s.y,d=ge(this.renderedStart-3,t),p=d.x,h=d.y;return"\n      M ".concat(r," ").concat(o,"\n      A ").concat(this.radius," ").concat(this.radius," 0 ").concat(e>0?1:0," 1\n        ").concat(i," ").concat(c,"\n      L ").concat(l," ").concat(u,"\n      A ").concat(t," ").concat(t," 0 ").concat(e>0?1:0," 0\n        ").concat(p," ").concat(h,"\n      Z\n      ")},path:function(){var e=H(this.renderedEnd,this.renderedStart),t=ge(this.renderedStart-1,this.radius),n=t.x,r=t.y,o=ge(this.renderedEnd+1,this.radius),a=o.x,i=o.y;return"\n      M ".concat(n," ").concat(r,"\n      A ").concat(this.radius," ").concat(this.radius," 0 ").concat(e>0?1:0," 1\n        ").concat(a," ").concat(i,"\n      ")},flip:function(){return this.renderedStart>90&&this.renderedStart<270},textPaths:function(){var e=this;return this.lines.map((function(t,n){var r=H(e.renderedEnd,e.renderedStart),o=e.flip?n:e.lines.length-1-n,a=e.radius+24*o+12,i=ge(e.renderedStart-5,a),c=ge(e.renderedEnd+5,a),s=e.flip?c:i,l=s.x,u=s.y,d=e.flip?i:c,p=d.x,h=d.y;return"\n        M ".concat(l," ").concat(u,"\n        A ").concat(a," ").concat(a," 0 ").concat(r>0?1:0," ").concat(e.flip?0:1,"\n          ").concat(p," ").concat(h,"\n        ")}))}}),watch:{"label.start":function(e){P["a"].to(this.$data,1,{renderedStart:A(e),ease:"Power1.easeInOut"})},"label.end":function(e){P["a"].to(this.$data,1,{renderedEnd:A(e),ease:"Power1.easeInOut"})}},methods:{handleOutsideClick:function(){null!==this.hoverDepth&&this.$emit("end-hover-lock",this.label.depth)},shouldNotHide:function(e){return null!==this.hoverDepth&&N(e,(function(e){return void 0!==(e.$props||{}).hoverDepth}))}}},be=ye,me=(n("8e7d"),Object(c["a"])(be,pe,he,!1,null,null,null)),Oe=me.exports,ke={name:"CircleDiagram",components:{CircleLabel:Oe,SvgPanZoom:O.a,CircleEntry:ne,Arc:de},props:{entries:{type:Object,required:!0},connectionTypes:Object,labels:Array},data:function(){var e={haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(e){var t=e.instance,n=1,r=0,o=0;this.hammer=b()(e.svgElement,{inputClass:b.a.SUPPORT_POINTER_EVENTS?b.a.PointerEventInput:b.a.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("panstart panmove",(function(e){"panstart"===e.type&&(r=0,o=0),t.panBy({x:e.deltaX-r,y:e.deltaY-o}),r=e.deltaX,o=e.deltaY})),this.hammer.on("pinchstart pinchmove",(function(e){"pinchstart"===e.type&&(n=t.getZoom(),t.zoomAtPoint(n*e.scale,{x:e.center.x,y:e.center.y})),t.zoomAtPoint(n*e.scale,{x:e.center.x,y:e.center.y})})),e.svgElement.addEventListener("touchmove",(function(e){e.preventDefault()}))},destroy:function(){this.hammer.destroy()}};return{selectedEntry:null,selectionLock:!1,labelHoverDepth:null,labelHoverLockDepth:null,panEventHandler:e}},computed:{incomingConnections:function(){var e=this,t={};return Object.values(this.entries).forEach((function(n){t[n.id]=t[n.id]||[],(n.connections||[]).filter((function(t){return e.connectionTypes[t.type].active})).forEach((function(e){t[e.target]=[].concat(Object(g["a"])(t[e.target]||[]),[n.id])}))})),t},connections:function(){var e=this;return Object.values(this.entries).flatMap((function(t){return(t.connections||[]).filter((function(t){return void 0!==e.entries[t.target]})).map((function(n){return{description:n.description,startId:t.id,endId:n.target,start:t.angle,end:e.entries[n.target].angle,type:e.connectionTypes[n.type],nodesActive:t.active&&e.entries[n.target].active}}))}))}},methods:{select:function(e,t){this.selectionLock&&e!==this.selectedEntry||(this.selectedEntry=e,this.selectionLock=t)},unselect:function(e){this.selectionLock&&e!==this.selectedEntry||(this.selectedEntry=null,this.selectionLock=!1)},beginLabelHover:function(e){null===this.labelHoverLockDepth?this.labelHoverDepth=e:e<this.labelHoverLockDepth&&(this.labelHoverDepth=e)},endLabelHover:function(){null===this.labelHoverLockDepth?this.labelHoverDepth=null:this.labelHoverDepth=this.labelHoverLockDepth},toggleLabelHoverLock:function(e){null===this.labelHoverLockDepth?this.labelHoverLockDepth=e:e!==this.labelHoverLockDepth?(this.labelHoverLockDepth=e,this.labelHoverDepth=e):(this.labelHoverLockDepth=null,this.labelHoverDepth=null)},endLabelHoverLock:function(){this.labelHoverDepth=null,this.labelHoverLockDepth=null}}},we=ke,xe=(n("9c5c"),Object(c["a"])(we,f,v,!1,null,null,null)),Pe=xe.exports;n("4e82");function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){return void 0===e.children?0:Math.max.apply(Math,Object(g["a"])(e.children.map((function(e){return _e(e)}))))+1}function Ce(e,t,n,r,o,a,i,c){var s=0,l=!1;return e.children.forEach((function(u){void 0===u.children?(t(u,a+s),s+=n,l=!0):s+=Ce(u,t,n,r,o+1,a+s,i,e.color||c)})),e.label&&i.push({text:e.label,color:e.color||c,start:a,end:a+s-(r-o)*n,depth:o}),s+(l?r-o:1)*n}function Se(e,t){var n=e.filter((function(e){return void 0!==e.sorting&&void 0!==e.sorting[t]}));return n.sort((function(e,n){return e.sorting[t]-n.sorting[t]})),n.reduce((function(e,t,r){return Ee({},e,Object(x["a"])({},t.id,Ee({},t,{angle:r*(360/(n.length+1)),padding:0,get active(){return t.categories.reduce((function(e,t){return e&&t.active}),!0)}})))}),{})}function $e(e,t){Object.values(e).forEach((function(n){(n.connections||[]).forEach((function(r){if(void 0===t[r.type])throw new Error("Book ".concat(n.id," has connection of unknown type '").concat(r.type,"' targeting ").concat(r.target));if(void 0===e[r.target])throw new Error("Book ".concat(n.id," has connection of type ").concat(r.type," with unknown target '").concat(r.target,"'"))}))}))}function De(e,t,n,r){r=void 0===r||r;var o=void 0!==n.activeByDefault?n.activeByDefault:r;if(void 0===e)return o;var a=e[t];return void 0===a?o:a instanceof Object?void 0===a[n.id]?o:!0===a[n.id]:"all"===a}var Te=function(e,t){var n=e["base-separation"],r=e.books,o=e.connections,a=e.layers,i=e.sorting,c=e.appearances,s={children:r},l={},u=[],d=_e(s),p=o.reduce((function(e,n){return Ee({},e,Object(x["a"])({},n.id,Ee({},n,{active:De(t,"connections",n)})))}),{}),h={},f=a.map((function(e,n){var r=Ee({},e,{order:n,active:De(t,"layers",e)});return r.categories=e.categories.map((function(e){return Ee({},e,{layer:r,active:De(t,"categories",e)})})),h=Ee({},h,{},r.categories.reduce((function(e,t){return Ee({},e,Object(x["a"])({},t.id,t))}),{})),r})),v=c.reduce((function(e,n){return Ee({},e,Object(x["a"])({},n.id,Ee({},n,{active:De(t,"appearances",n,!1)})))}),{});Ce(s,(function(e,t){var n=e.categories.map((function(t){var n=h[t];if(void 0===n)throw new Error("Book ".concat(e.id," references unknown category '").concat(t,"'"));return n}));n.sort((function(e,t){return t.layer.order-e.layer.order}));var r=(e.appearances||[]).map((function(t){var n=v[t.id];if(void 0===n)throw new Error("Book ".concat(e.id," references unknown appearance '").concat(t.id,"'"));return Ee({},t,{ref:n})}));l[e.id]=Ee({},e,{categories:n,appearances:r,angle:t,get active(){return n.reduce((function(e,t){return e&&t.active}),!0)}})}),n,d,0,0,u),$e(l,p);var g=Object.values(l),y=i.map((function(e){return Ee({},e,{books:Se(g,e.id)})}));return{books:l,sorted:y,connectionTypes:p,layers:f,appearances:Object.values(v),labels:u}},Le=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"legend"},[r("div",{directives:[{name:"closable",rawName:"v-closable",value:{handler:function(){e.introToggled&&(e.introToggled=!1)}},expression:"{handler: () => { if (this.introToggled) this.introToggled = false; }}"}],class:["legend-intro",{"legend-intro-open":t.introToggled}]},[r("div",{staticClass:"legend-intro-toggle",on:{click:function(e){t.introToggled=!t.introToggled}}},[t._v(" info ")]),r("div",{class:["legend-intro-content",{"legend-intro-content-collapsed":t.introContentCollapsed}]},[r("h1",[t._v("Cosmere Reading Guide")]),r("p",[t._v("This reading guide exists to (1) illustrate how the cosmere fits together, (2) provide reading order guidance, (3) show connections between stories, and (4) provide awareness of unpublished works.")]),r("span",{staticClass:"legend-intro-content-toggle",domProps:{innerHTML:t._s(t.introContentCollapsed?"More details":"Less details")},on:{click:function(e){t.introContentCollapsed=!t.introContentCollapsed}}}),t._m(0)]),r("div",{staticClass:"legend-intro-close",on:{click:function(e){t.introToggled=!1}}},[t._v(" x ")])]),r("div",{directives:[{name:"closable",rawName:"v-closable",value:{handler:function(){e.keysToggled&&(e.keysToggled=!1)}},expression:"{handler: () => { if (this.keysToggled) this.keysToggled = false; }}"}],class:["legend-keys",{"legend-keys-open":t.keysToggled}]},[r("div",{staticClass:"legend-keys-toggle",on:{click:function(e){t.keysToggled=!t.keysToggled}}},[t._v(" legend ")]),r("div",{staticClass:"legend-keys-content"},[r("div",{staticClass:"legend-options"},[r("h2",[t._v("Options")]),r("span",{staticClass:"legend-options-item"},[r("label",{attrs:{for:"sort"}},[t._v("Order by")]),r("select",{attrs:{id:"sort"},on:{change:t.changeSort}},[r("option",{domProps:{value:null,selected:null===t.selectedOrder}},[t._v("Series")]),t._l(t.sortedBooks,(function(e){return r("option",{key:e.id,domProps:{value:e.id,selected:t.selectedOrder===e}},[t._v(" "+t._s(e.description)+" ")])}))],2)]),r("span",{staticClass:"legend-options-item"},[r("input",{attrs:{id:"show-connection-explanations",type:"checkbox"},domProps:{checked:t.showSpoilers},on:{input:function(e){return t.$store.commit("toggleExplanations",e.target.checked)}}}),t._m(1)])]),r("div",{staticClass:"legend-connections"},[r("h2",[t._v("Arrows")]),t._l(t.connectionTypes,(function(e){return r("ConnectionPreview",{key:e.id,attrs:{type:e},on:{"update-route":function(e){return t.updateRoute("connections",t.connectionTypes,e)}}})}))],2),r("div",{staticClass:"legend-categories"},[r("h2",[t._v("Categories")]),t._l(t.layers,(function(e){return r("Layer",{key:e.name,attrs:{layer:e},on:{"update-route":function(e){return t.updateRoute("layers",t.layers,e)},"update-category-route":function(e){return t.updateRoute("categories",t.flatCategories,e)}}})}))],2),r("div",{staticClass:"legend-appearances"},[r("h2",[t._v("Appearances")]),t._l(t.appearances,(function(e){return r("AppearancePreview",{key:e.id,attrs:{appearance:e},on:{"update-route":function(e){return t.updateRoute("appearances",t.appearances,e)}}})}))],2)])])])},Ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"legend-intro-content-more"},[n("p",[e._v("(1) Books are grouped by series, world, and star system by default, and are listed in the clockwise direction.")]),n("p",[e._v("(2) There is no 'right way' to read the Cosmere. This method strives to balance publication order while grouping series together and allowing flexibility for the reader. Read the 'Essential' works in each phase before moving on to the next phase. Stories in a series should be read in the order listed. 'Secondary' books can be read during their phase or skipped until a later time.")]),n("p",[e._v("(3) Arrows illustrate connections between story. The 'target' includes some reference to the first. Different arrow styles note the significance of any references (to the story and to the greater cosmere), and can be taken as additional reading order advice. Hover mouse on books to highlight related arrows. Hover mouse on arrows to see details.")]),n("p",[e._v("(4) Unpublished books may or may not be eventually published.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"show-connection-explanations"}},[e._v(" Show spoilers"),n("br"),n("small",[e._v("Explain connection & appearance details")])])}],He=(n("a623"),n("7db0"),n("45fc"),n("0d03"),n("25f0"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.type.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: type.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["connection-preview",{"connection-preview-active":e.type.active}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.type.active,expression:"type.active"}],attrs:{type:"checkbox",id:"chk-connection-"+e.type.id},domProps:{checked:Array.isArray(e.type.active)?e._i(e.type.active,null)>-1:e.type.active},on:{change:function(t){var n=e.type.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.type,"active",n.concat([a])):i>-1&&e.$set(e.type,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.type,"active",o)}}}),n("label",{attrs:{for:"chk-connection-"+e.type.id}},[n("svg",{staticClass:"connection-preview-icon",attrs:{width:"15",height:"10",viewBox:"0 0 15 5"}},[n("line",{attrs:{x1:"0",y1:"3",x2:"15",y2:"3",stroke:e.type.color,"stroke-width":e.type.width,"stroke-dasharray":e.type.dash}})]),e._v(" "+e._s(e.type.description)+" ")])])}),Me=[],Ne={name:"ConnectionPreview",props:{type:Object},watch:{"type.active":function(e){this.$emit("update-route",{id:this.type.id,active:e})},$route:function(e){"all"===e.query.connections||"none"===e.query.connections?this.type.active="all"===e.query.connections:void 0!==e.query["connections.".concat(this.type.id)]&&(this.type.active="true"===e.query["connections.".concat(this.type.id)])}}},qe=Ne,Ie=(n("57ca"),Object(c["a"])(qe,He,Me,!1,null,null,null)),Be=Ie.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",{staticClass:"layer",attrs:{open:!0!==e.layer.startCollapsed}},[n("summary",[e._v(" "+e._s(e.layer.name)+" "),e.layer.active?n("EyeIcon",{staticClass:"layer-toggle",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.layer.active=!1}}}):n("EyeOffIcon",{staticClass:"layer-toggle",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.layer.active=!0}}})],1),e._l(e.layer.categories,(function(t){return n("CategoryPreview",{key:t.id,attrs:{category:t},on:{"update-route":function(t){return e.$emit("update-category-route",t)}}})}))],2)},We=[],Xe=n("0a35"),Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.category.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: category.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["category-preview",{"category-preview-active":e.category.active}],style:e.styles},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.category.active,expression:"category.active"}],attrs:{type:"checkbox",id:"chk-category-"+e.category.id},domProps:{checked:Array.isArray(e.category.active)?e._i(e.category.active,null)>-1:e.category.active},on:{change:function(t){var n=e.category.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.category,"active",n.concat([a])):i>-1&&e.$set(e.category,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.category,"active",o)}}}),n("label",{attrs:{for:"chk-category-"+e.category.id}},[e._v(e._s(e.category.description))])])},ze=[],Fe={name:"CategoryPreview",props:{category:Object},computed:{styles:function(){return{color:this.category.color,fontStyle:this.category.style}}},watch:{"category.active":function(e){this.$emit("update-route",{id:this.category.id,active:e})},$route:function(e){"all"===e.query.categories||"none"===e.query.categories?this.category.active="all"===e.query.categories:void 0!==e.query["categories.".concat(this.category.id)]&&(this.category.active="true"===e.query["categories.".concat(this.category.id)])}}},Ge=Fe,Ue=(n("0892"),Object(c["a"])(Ge,Ye,ze,!1,null,null,null)),Je=Ue.exports,Ze={name:"Layer",components:{CategoryPreview:Je,EyeIcon:Xe["a"],EyeOffIcon:Xe["b"]},props:{layer:Object},watch:{"layer.active":function(e){this.$emit("update-route",{id:this.layer.id,active:e})},$route:function(e){"all"===e.query.layers||"none"===e.query.layers?this.layer.active="all"===e.query.layers:void 0!==e.query["layers.".concat(this.layer.id)]&&(this.layer.active="true"===e.query["layers.".concat(this.layer.id)])}}},Ve=Ze,Ke=(n("a0df"),Object(c["a"])(Ve,Re,We,!1,null,null,null)),Qe=Ke.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.appearance.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: appearance.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["appearance-preview",{"appearance-preview-active":e.appearance.active}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.appearance.active,expression:"appearance.active"}],attrs:{type:"checkbox",id:"chk-appearance-"+e.appearance.id},domProps:{checked:Array.isArray(e.appearance.active)?e._i(e.appearance.active,null)>-1:e.appearance.active},on:{change:function(t){var n=e.appearance.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.appearance,"active",n.concat([a])):i>-1&&e.$set(e.appearance,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.appearance,"active",o)}}}),n("label",{attrs:{for:"chk-appearance-"+e.appearance.id}},[n("svg",{staticClass:"appearance-preview-icon",attrs:{width:"18",height:"18",viewBox:"0 0 18 18"}},[n("circle",{attrs:{r:"9",cx:"9",cy:"9",fill:e.appearance.color||"#fafafa"}}),n("text",{attrs:{x:"9",y:"9","dominant-baseline":"central","text-anchor":"middle","font-size":"0.8rem"}},[e._v(" "+e._s(e.appearance.initial)+" ")])]),e._v(" "+e._s(e.appearance.description)+" ")])])},tt=[],nt={name:"AppearancePreview",props:{appearance:Object},watch:{"appearance.active":function(e){this.$emit("update-route",{id:this.appearance.id,active:e})},$route:function(e){"all"===e.query.appearances||"none"===e.query.appearances?this.appearance.active="all"===e.query.appearances:void 0!==e.query["appearances.".concat(this.appearance.id)]&&(this.appearance.active="true"===e.query["appearances.".concat(this.appearance.id)])}}},rt=nt,ot=(n("4d8e"),Object(c["a"])(rt,et,tt,!1,null,null,null)),at=ot.exports;function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){Object(x["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st={name:"Legend",components:{AppearancePreview:at,Layer:Qe,ConnectionPreview:Be},props:{connectionTypes:Array,layers:Array,appearances:Array,sortedBooks:Array},data:function(){return{introToggled:!1,introContentCollapsed:!0,keysToggled:!1,selectedOrder:null,sortInitialized:!1}},computed:ct({},Object(W["b"])(["showSpoilers"]),{flatCategories:function(){return this.layers.reduce((function(e,t){return[].concat(Object(g["a"])(e),Object(g["a"])(t.categories))}),[])}}),watch:{selectedOrder:function(e){null===e?this.$emit("sort",!1):this.$emit("sort",e.books)},sortedBooks:function(e){var t=this;this.sortInitialized||(this.selectedOrder=e.find((function(e){return e.id===t.$route.query.order}))||null,this.sortInitialized=!0)},$route:function(e,t){e.query.order!==t.query.order&&(this.selectedOrder=this.sortedBooks.find((function(t){return t.id===e.query.order}))||null)}},methods:{changeSort:function(e){""===e.target.value?this.$router.replace({query:ct({},this.$route.query,{order:void 0})}):this.$router.replace({query:ct({},this.$route.query,{order:e.target.value})})},updateRoute:function(e,t,n){var r,o=t.every((function(e){return e.active})),a=!t.some((function(e){return e.active})),i=this.$route.query;if(o||a)return Object.keys(i).forEach((function(t){t.startsWith("".concat(e,"."))&&delete i[t]})),void this.$router.replace({query:ct({},i,Object(x["a"])({},e,o?"all":"none"))});this.$router.replace({query:ct({},i,(r={},Object(x["a"])(r,e,void 0),Object(x["a"])(r,"".concat(e,".").concat(n.id),n.active.toString()),r))})}}},lt=st,ut=(n("e1b1"),Object(c["a"])(lt,Le,Ae,!1,null,null,null)),dt=ut.exports;function pt(e){var t={},n=["connections","layers","categories","appearances"];return n.forEach((function(e){t[e]={}})),Object.keys(e||{}).forEach((function(r){n.forEach((function(n){if(r!==n||"all"!==e[r]&&"none"!==e[r]){if(r.startsWith("".concat(n,"."))&&t[n]instanceof Object){var o=r.substring(n.length+1);t[n][o]="true"===e[r]}}else t[n]=e[r]}))})),t}var ht={name:"home",components:{Legend:dt,CircleDiagram:Pe},data:function(){return{entries:{},books:{},sortedBooks:[],connectionTypes:{},layers:[],appearances:[],labels:[]}},mounted:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=regeneratorRuntime,t.next=3,regeneratorRuntime.awrap(fetch("./data.json"));case 3:return t.t1=t.sent.json(),t.next=6,t.t0.awrap.call(t.t0,t.t1);case 6:e=t.sent,this.loadData(e);case 8:case"end":return t.stop()}}),null,this)},methods:{loadData:function(e){var t=Te(e,pt(this.$route.query)),n=t.books,r=t.sorted,o=t.connectionTypes,a=t.layers,i=t.appearances,c=t.labels;this.entries=n,this.books=n,this.sortedBooks=r,this.connectionTypes=o,this.layers=a,this.appearances=i,this.labels=c},sort:function(e){this.entries=!1===e?this.books:e},loadLocalFile:function(e){var t=this,n=e.dataTransfer.files[0];if(void 0!==n&&n.type.match("application.json")){e.preventDefault(),e.stopPropagation();var r=new FileReader;r.onload=function(e){var n=e.target.result;try{t.loadData(JSON.parse(n))}catch(r){alert("Could not load data JSON: ".concat(r))}},r.readAsText(n)}},captureDrop:function(e){e.dataTransfer.dropEffect="move",e.preventDefault()}}},ft=ht,vt=(n("21bb"),Object(c["a"])(ft,p,h,!1,null,null,null)),gt=vt.exports;r["a"].use(d["a"]);var yt=[{path:"/",name:"home",component:gt}],bt=new d["a"]({routes:yt}),mt=bt,Ot=n("9483");function kt(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}Object(Ot["a"])("".concat("/reading-order/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var wt={install:function(e){e.directive("closable",{bind:function(e,t){var n=!1,r=null;e.handleOutsideTouchStart=function(e){n=e.touches.length>1,r={x:e.touches[0].screenX,y:e.touches[0].screenY}},e.handleOutsideClick=function(o){var a;if(a=o.touches?{x:o.changedTouches[0].screenX,y:o.changedTouches[0].screenY}:{x:o.screenX,y:o.screenY},!(n||null!==r&&kt(a,r)>100)){n=!1,o.stopPropagation();var i=t.value,c=i.handler,s=i.exclude,l=(s||function(){return!1})(o.target);e.contains(o.target)||l||c()}},document.addEventListener("click",e.handleOutsideClick),document.addEventListener("touchstart",e.handleOutsideTouchStart),document.addEventListener("touchend",e.handleOutsideClick)},unbind:function(e){document.removeEventListener("click",e.handleOutsideClick),document.removeEventListener("touchstart",e.handleOutsideTouchStart),document.removeEventListener("touchend",e.handleOutsideClick)}})}};r["a"].use(W["a"]);var xt={showSpoilers:"true"===window.localStorage.getItem("showSpoilers")||"true"===window.localStorage.getItem("explainConnections")};window.localStorage.setItem("showSpoilers",xt.showSpoilers),window.localStorage.removeItem("explainConnections");var Pt=new W["a"].Store({state:xt,mutations:{toggleExplanations:function(e,t){e.showSpoilers=t,window.localStorage.setItem("showSpoilers",t)}}});r["a"].config.productionTip=!1,r["a"].use(wt),r["a"].use(o["a"]),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault()})),new r["a"]({router:mt,store:Pt,render:function(e){return e(u)}}).$mount("#app")},"57ca":function(e,t,n){"use strict";var r=n("2ba2"),o=n.n(r);o.a},"5bad":function(e,t,n){"use strict";var r=n("78ef"),o=n.n(r);o.a},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"78ef":function(e,t,n){},"8a2b":function(e,t,n){"use strict";var r=n("f8b4"),o=n.n(r);o.a},"8ada":function(e,t,n){},"8e7d":function(e,t,n){"use strict";var r=n("91ee"),o=n.n(r);o.a},"91ee":function(e,t,n){},"9c0c":function(e,t,n){},"9c5c":function(e,t,n){"use strict";var r=n("8ada"),o=n.n(r);o.a},a0df:function(e,t,n){"use strict";var r=n("54d4"),o=n.n(r);o.a},a47e:function(e,t,n){},c1ae:function(e,t,n){},d2b6:function(e,t,n){"use strict";var r=n("e03a"),o=n.n(r);o.a},e03a:function(e,t,n){},e1b1:function(e,t,n){"use strict";var r=n("c1ae"),o=n.n(r);o.a},e75b:function(e,t,n){},ec67:function(e,t,n){e.exports=n.p+"img/cosmere.a50051a3.svg"},f8b4:function(e,t,n){},fcc7:function(e,t,n){"use strict";var r=n("a47e"),o=n.n(r);o.a}});